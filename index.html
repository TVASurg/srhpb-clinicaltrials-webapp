<!DOCTYPE html>

<html lang="en">

<head>
  <title>GI clinical trials webapp - powered by the Schwartz Reisman HPB Research Innovation Centre - TVASurg - v.13</title>

  <meta name="robots" content="noindex">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />

  <link rel="stylesheet" href="./style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="icon" href="favicon.jpg">

  
  <!-- Auth0 Lock CDN (14.1) -->
  <script src="https://cdn.auth0.com/js/lock/14.1/lock.min.js"></script> 

  <!-- Posthog analytics -->
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Te Ds js Re Os As capture Ke calculateEventProperties zs register register_once register_for_session unregister unregister_for_session Hs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty qs Ns createPersonProfile Bs Cs Ws opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Ls debug L Us getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_B3mpSAH2yV4o7LehV1EQly9zYSw8d08yqWatGeOt1JM', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-05-24',
        person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
    })
  </script>

  
</head> 

<body>

    <main class="container">
    <nav id="topNavBar" class="navbar fixed-top navbar-light bg-white">
      <div class="navbar-brand mx-auto">
        <img src="images/SRHPBlogo_retreat_optionB_onWhiteBg.png" alt="">
        <span class="topText text-center fw-bold h3 align-middle">GI clinical trials</span>
        </div>
    </nav>    
    <div id="mainContent" class="row d-none">
      <div class="col-12 col-lg-3"> 
        <div class="flipNav">
          <div id="mainNavInner" class="flipNavInner">
        <ul id ="diseaseNav" class="list-unstyled ps-0 flipNavFront">
          
          <li class="fs-5 bg-colorectal ps-2 rounded-top fw-bold border-bottom py-2 mt-1 ps-2" >Colorectal</li>
          <li class="d-grid mb-1 bg-colorectal rounded-bottom ps-2" > <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#crc-collapse" onclick="clearTrialInfo(); clearUpdateLine();">
              CRC
            </button>
            <div class="collapse" id="crc-collapse" >
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button" class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(colorectal_master, 'Peri')"><li class="rounded diseaseState px-3 mx-2 py-2" >Peri-operative</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(colorectal_master, '1')"><li class="rounded diseaseState px-3 mx-2 py-2" >1st line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(colorectal_master, '2')"><li class="rounded diseaseState px-3 mx-2 py-2" >2nd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(colorectal_master, 'Last')"><li class="rounded diseaseState px-3 mx-2 py-2" >Last line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(colorectal_master, 'Any line')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any line</li></a>
              </ul>
            </div>
          </li> 

           <li class="fs-5 bg-gastroesophageal ps-2 rounded-top fw-bold border-bottom py-2 mt-2 ps-2" >Gastroesophageal</li>
          <li class="d-grid mb-1 bg-gastroesophageal rounded-bottom ps-2" > <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#ge-collapse" onclick="clearTrialInfo(); clearUpdateLine();">
              GE
            </button>
            <div class="collapse" id="ge-collapse" >
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button" class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, 'Prior')"><li class="rounded diseaseState px-3 mx-2 py-2" >Prior to systemic treatment</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, 'Resectable')"><li class="rounded diseaseState px-3 mx-2 py-2" >Resectable</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, '1')"><li class="rounded diseaseState px-3 mx-2 py-2" >1st line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, '2')"><li class="rounded diseaseState px-3 mx-2 py-2" >2nd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, '3')"><li class="rounded diseaseState px-3 mx-2 py-2" >3rd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(gastroesophageal_master, 'Any line')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any line</li></a>
              </ul>
            </div>
          </li> 

          <li class="fs-5 bg-hcc ps-2 rounded-top fw-bold border-bottom py-2 mt-2 ps-2">Liver</li>
          <li class="d-grid mb-2 bg-hcc ps-2 rounded-bottom"> <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#hcc-collapse" onclick="clearTrialInfo(); clearUpdateLine();">
              HCC
            </button>
            <div class="collapse bg-hcc" id="hcc-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, 'Peri-OR')"><li class="rounded diseaseState px-3 mx-2 py-2" >Peri-OR</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, 'Pre-transplant')"><li class="rounded diseaseState px-3 mx-2 py-2" >Pre-transplant</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, 'Any')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, '1st')"><li class="rounded diseaseState px-3 mx-2 py-2" >1st line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, '2nd')"><li class="rounded diseaseState px-3 mx-2 py-2" >2nd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(liver_HCC_master, 'Last')"><li class="rounded diseaseState px-3 mx-2 py-2" >Last line</li></a>               </ul>
            </div>
          </li>
          <li class="fs-5 bg-pancreas ps-2 rounded-top fw-bold border-bottom p-2">Pancreas</li>
          <li class="d-grid bg-pancreas ps-2"> <button class="btn btn-toggle d-inline-flex align-items-center border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#mccain-collapse" aria-expanded="false" onclick="clearTrialInfo(); clearUpdateLine();">
              PDAC
            </button>
            <div class="collapse " id="mccain-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, 'Resectable')"><li class="rounded diseaseState px-3 mx-2 py-2" >Resectable</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, 'Locally Advanced Unresectable')"><li class="rounded diseaseState px-3 mx-2 py-2" >Locally Advanced unresectable</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, 'Any Line Advanced')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any Line Advanced</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, '1L Metastatic')"><li class="rounded diseaseState px-3 mx-2 py-2" >1L Metastatic</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, '2L Only Metastatic')"><li class="rounded diseaseState px-3 mx-2 py-2" >2L Only</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, '2L Metastatic+')"><li class="rounded diseaseState px-3 mx-2 py-2" >2L+ Metastatic</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pancreas_master, 'Non-Therapeutic')"><li class="rounded diseaseState px-3 mx-2 py-2" >Non-Therapeutic</li></a>

              </ul>
            </div>
          </li>
          <li class="d-grid bg-pnet ps-2 rounded-bottom"> <button class="btn btn-toggle d-inline-flex align-items-center border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#pnet-collapse" aria-expanded="false" onclick="clearTrialInfo(); clearUpdateLine();">
              pNET
            </button>
            <div class="collapse " id="pnet-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pNET_master, 'Any')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any Line Advanced</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(pNET_master, '2')"><li class="rounded diseaseState px-3 mx-2 py-2" >2L+ Metastatic</li></a>


              </ul>
            </div>
          </li>
          <li class="fs-5 bg-btc ps-2 rounded-top fw-bold border-bottom py-2 mt-2 ps-2">Biliary</li>
          <li class="d-grid mb-1 bg-btc rounded-bottom ps-2"> <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed fw-semibold" data-bs-toggle="collapse" data-bs-target="#cca-collapse" onclick="clearTrialInfo(); clearUpdateLine();">
              CCA
            </button>
            <div class="collapse" id="cca-collapse">
              <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 ps-2">
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, 'Adjuvant')"><li class="rounded diseaseState px-3 mx-2 py-2" >Adjuvant</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, '1st')"><li class="rounded diseaseState px-3 mx-2 py-2" >1st line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, '2nd')"><li class="rounded diseaseState px-3 mx-2 py-2" >2nd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, '3rd')"><li class="rounded diseaseState px-3 mx-2 py-2" >3rd line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, 'Any')"><li class="rounded diseaseState px-3 mx-2 py-2" >Any line</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, 'Non')"><li class="rounded diseaseState px-3 mx-2 py-2" >Non-Therapeutic</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnSetting(biliary_CCA_master, 'Neoadjuvant')"><li class="rounded diseaseState px-3 mx-2 py-2" >Neoadjuvant</li></a>
              </ul>
            </div>
          </li>
        </ul>

        <ul id="diseaseNav" class="list-unstyled ps-0 flipNavBack">
             
          <li class="fs-5 bg-gray-500 ps-2 rounded-top fw-bold border-bottom py-2 mt-2 ps-2">Biomarker</li>
            <div class="bg-gray-500 rounded-bottom">
              <ul class="btn-toggle-nav list-unstyled fw-normal py-2 ps-2">
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`MTAP`)"><li class="rounded diseaseState px-3 mx-2 py-2" >MTAP</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`CLDN18.2`)"><li class="rounded diseaseState px-3 mx-2 py-2" >CLDN18.2</li></a>                
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`HER-2 on IHC`)"><li class="rounded diseaseState px-3 mx-2 py-2" >HER-2 on IHC</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`HER2 `)"><li class="rounded diseaseState px-3 mx-2 py-2" >HER2</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`HER2 and PDL1`)"><li class="rounded diseaseState px-3 mx-2 py-2" >HER2 and PDL1</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`IDH1`)"><li class="rounded diseaseState px-3 mx-2 py-2" >IDH1</li></a>
                <a role="button"class="text-decoration-none text-gray-900 p-0 m-0" onclick="fillTrialNameBasedOnBiomarker(`evidence of FGFR2 gene fusions or other rearrangements using NGS or FISH`)"><li class="rounded diseaseState px-3 mx-2 py-2" >Evidence of FGFR2 gene fusions</li></a>
            </ul>
            </div>
        </ul>
        

      </div>
      </div>  
      <div id="navToggle" class="d-grid btn btn-outline-dark p-2 my-3 rounded" onclick="toggleNav()">Browse by biomarker</div>  
      <div class="d-grid btn btn-outline-dark p-2 my-3 rounded" onclick="printCommunityList()">Download printable PDF</div>
      <div class="d-grid btn btn-outline-dark p-2 my-3 rounded" onclick="fillTrialNameBasedOnSetting(closed_master, '')">Closed/Archived trials</div>
        
      </div>
      <div class="col-12 col-lg-9">
        <div class="col">
          <div href="" class="d-flex align-items-center flex-shrink-0 p-3 link-body-emphasis text-decoration-none border-bottom"> <span class="fs-5 fw-semibold">Trial name</span> </div>
          <div id="trialName" class="list-group list-group-flush border-bottom">

          </div>
        </div>
        <div class="col">

          <div href="" class="d-flex align-items-center flex-shrink-0 p-3 link-body-emphasis text-decoration-none border-bottom"> <span class="fs-5 fw-semibold">Trial details</span>
            
            <div class="vstack d-grid">
            <span id="trialLastUpdated" class="badge bg-warning text-dark mx-5 mt-1 col-md-4"></span>
            <span id="studyStatus" class="badge text-light mx-5 mt-1 col-md-4"></span></div>
            </div>

          <div id="trialDetails" class="list-group list-group-flush border-bottom">
                      
          </div>
        </div>
      </div>
      <div class="col-12">
        <p id="lastUpdated" class="text-center mx-auto my-3"><span class="small"></span></p>
      </div>
      

    </div>
    <footer id="footer" class="border-top mt-5 mx-5"><p class="text-center mt-3">Have updates or donâ€™t see your trial listed?<br/> Please let us know at <a href="mailto: SRHPBresearchcentrer@uhn.ca">SRHPBresearchcentrer@uhn.ca</a></p><p class="mt-3 text-center small">Module version v2026.04</p>
    </footer>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/5.0.2/jspdf.plugin.autotable.min.js"></script>
  <script src="./script.js"></script>
  <!-- Auth0 Lock utilization -->
  <script>
    // Initializing our Auth0Lock
    var lock = new Auth0Lock(
      'Abvc8NGILDDu6R1iaQJ9C0tbSNVjWuJM',
      //'srhpb.ca.auth0.com',
      'auth.pmgitrials.ca',
      {
        auth:{
          redirect: false, // single-page app, no redirect
          responseType: "token id_token",
          audience: 'https://srhpb.netlify.app/authentication/' //important endpoint to get JWT token
        },
        allowSignUp: false, // ðŸš« hides the signup tab
        usernameStyle: 'username',
        allowForgotPassword: false,
        autoclose: true,
        theme: {
        logo: 'https://srhpb.netlify.app/images/SRHPBlogo_login.png',
        primaryColor: '#45616b'
        },
        languageDictionary: {
        emailInputPlaceholder: "Email address",
        passwordInputPlaceholder: 'Password',
        title: "Clinical Trials Webapp Login"
  },
      }
    );

    //Show widget
    lock.show(); 

    // When login is successful
    lock.on("authenticated", function(authResult) {
      // Save access token
      localStorage.setItem("accessToken", authResult.accessToken);

      // Show SPA content
      document.getElementById("mainContent").classList.remove('d-none');

      // ðŸ”‘ Decode the token payload to get user info
      const base64Url = authResult.idToken.split('.')[1];
      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      const userPayload = JSON.parse(window.atob(base64));

      // âœ… Identify user in PostHog
      posthog.identify(userPayload.sub, {
        email: userPayload.email,
        name: userPayload.name
      });
        
      // Example: track login event
      posthog.capture("user_logged_in");
          
      // Fetch protected JSON
      fetch("/.netlify/functions/fetch-latest-json", {
        headers: {
          Authorization: `Bearer ${authResult.accessToken}`
        }
      })
      .then(res => res.json())
      .then(data => {
        //initAllData(data);
      })
      .catch(err => console.error("Error fetching data:", err));
    });
  </script>
  
 
</body>
 
</html>


























